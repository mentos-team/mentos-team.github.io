<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MentOS: /home/enrico/repository/personal/mentos/mentos/inc/mem/zone_allocator.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MentOS
   &#160;<span id="projectnumber">0.7.3</span>
   </div>
   <div id="projectbrief">The Mentoring Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b4d46abdb8cafe1ad6c14fa0f9992e34.html">mentos</a></li><li class="navelem"><a class="el" href="dir_b043e71e4766e108b8d8f74323da14bd.html">inc</a></li><li class="navelem"><a class="el" href="dir_5b7d244f1504d91d097aeb486f1c4565.html">mem</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">zone_allocator.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="zone__allocator_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gfp_8h.html">mem/gfp.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="math_8h.html">math.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stdint_8h.html">stdint.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;sys/list_head.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bitops_8h.html">sys/bitops.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stdatomic_8h.html">klib/stdatomic.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="boot_8h.html">boot.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="buddysystem_8h.html">mem/buddysystem.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slab_8h.html">mem/slab.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#a3da56390fe5721da921e57ad7919ec98">   18</a></span>&#160;<span class="preprocessor">#define page_count(p)        atomic_read(&amp;(p)-&gt;count)   </span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#a336322279fba288d356e7f9b56885ada">   19</a></span>&#160;<span class="preprocessor">#define set_page_count(p, v) atomic_set(&amp;(p)-&gt;count, v) </span></div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#adc91ee5789762a2566abfb18bdbeeb86">   20</a></span>&#160;<span class="preprocessor">#define page_inc(p)          atomic_inc(&amp;(p)-&gt;count)    </span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#af1c48d855d736515abd9d160ec112e0b">   21</a></span>&#160;<span class="preprocessor">#define page_dec(p)          atomic_dec(&amp;(p)-&gt;count)    </span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="structpage__t.html">   25</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structpage__t.html">page_t</a> {</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="structpage__t.html#a7bd9a24f4b4b98767528bfff2b01c743">   28</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structpage__t.html#a7bd9a24f4b4b98767528bfff2b01c743">flags</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="structpage__t.html#a02d3c039c9cca89ba1bf19046d9eaf41">   30</a></span>&#160;    <a class="code" href="stdatomic_8h.html#a27fd26b0ec72da709c47536f496e5844">atomic_t</a> <a class="code" href="structpage__t.html#a02d3c039c9cca89ba1bf19046d9eaf41">count</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="structpage__t.html#a22ba648c3832ec830dad4bdade357bfe">   32</a></span>&#160;    <a class="code" href="structbb__page__t.html">bb_page_t</a> <a class="code" href="structpage__t.html#a22ba648c3832ec830dad4bdade357bfe">bbpage</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="structpage__t.html#a95297c563b99af6f00e40f7732855b78">   34</a></span>&#160;    list_head <a class="code" href="structpage__t.html#a95297c563b99af6f00e40f7732855b78">slabs</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structpage__t.html#adbee1f273b27cc1feee6ed2d3a6ff110">   37</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structpage__t.html#adbee1f273b27cc1feee6ed2d3a6ff110">slab_objcnt</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structpage__t.html#aefec6cb65b3910439b5156fb8ca1b3cb">   39</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structpage__t.html#aefec6cb65b3910439b5156fb8ca1b3cb">slab_objfree</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structpage__t.html#a25f35d003f534face481c38f6543e102">   41</a></span>&#160;    list_head <a class="code" href="structpage__t.html#a25f35d003f534face481c38f6543e102">slab_freelist</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structpage__t.html#ae595ea9702ead9ae4fe06bf223ede97d">   47</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structpage__t.html">page_t</a> *<a class="code" href="structpage__t.html#ae595ea9702ead9ae4fe06bf223ede97d">slab_main_page</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structpage__t.html#adbb5282192be93dbfc1d230897d38163">   49</a></span>&#160;        <a class="code" href="structkmem__cache__t.html">kmem_cache_t</a> *<a class="code" href="structpage__t.html#adbb5282192be93dbfc1d230897d38163">slab_cache</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structpage__t.html#ad2b355ced61d5315c5742c4349939a8f">   50</a></span>&#160;    } <a class="code" href="structpage__t.html#ad2b355ced61d5315c5742c4349939a8f">container</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#ace2af291a76ffee949c3f3ee1a56faa1">   51</a></span>&#160;} <a class="code" href="zone__allocator_8h.html#ace2af291a76ffee949c3f3ee1a56faa1">page_t</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfada">   54</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfada">zone_type</a> {</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaae04e3071b5aefe12178a93c7c616dd8b">   60</a></span>&#160;    <a class="code" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaae04e3071b5aefe12178a93c7c616dd8b">ZONE_NORMAL</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaa274e4b70b8facd808390afd8833440f5">   69</a></span>&#160;    <a class="code" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaa274e4b70b8facd808390afd8833440f5">ZONE_HIGHMEM</a>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaac210316b34bd6909d0a1b0126e39b286">__MAX_NR_ZONES</a></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaac210316b34bd6909d0a1b0126e39b286">   73</a></span>&#160;};</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structzone__t.html">   76</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structzone__t.html">zone_t</a> {</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structzone__t.html#a0809468718c38d71f450b38d75b988c7">   78</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structzone__t.html#a0809468718c38d71f450b38d75b988c7">free_pages</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structzone__t.html#a9cbb2e975e8f572e89539c372fa70390">   80</a></span>&#160;    <a class="code" href="structbb__instance__t.html">bb_instance_t</a> <a class="code" href="structzone__t.html#a9cbb2e975e8f572e89539c372fa70390">buddy_system</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structzone__t.html#a64b2a322648a4ee45da94422481e5c91">   82</a></span>&#160;    <a class="code" href="structpage__t.html">page_t</a> *<a class="code" href="structzone__t.html#a64b2a322648a4ee45da94422481e5c91">zone_mem_map</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structzone__t.html#a2af42ce4e83d18c1e199afeadff5187c">   84</a></span>&#160;    <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="structzone__t.html#a2af42ce4e83d18c1e199afeadff5187c">zone_start_pfn</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structzone__t.html#a5791bd18ceb54e39c8e027a8d02e5d5c">   86</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structzone__t.html#a5791bd18ceb54e39c8e027a8d02e5d5c">name</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structzone__t.html#ae6ea0cf7ed538a2e6c83715de43e0391">   88</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structzone__t.html#ae6ea0cf7ed538a2e6c83715de43e0391">size</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#a6859408e346d71f46cf0b65c83362016">   89</a></span>&#160;} <a class="code" href="zone__allocator_8h.html#a6859408e346d71f46cf0b65c83362016">zone_t</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structpg__data__t.html">   93</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structpg__data__t.html">pg_data_t</a> {</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structpg__data__t.html#acaf78717329c2fa97a434577a3d78d48">   95</a></span>&#160;    <a class="code" href="structzone__t.html">zone_t</a> <a class="code" href="structpg__data__t.html#acaf78717329c2fa97a434577a3d78d48">node_zones</a>[<a class="code" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaac210316b34bd6909d0a1b0126e39b286">__MAX_NR_ZONES</a>];</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structpg__data__t.html#a33121b26a469c263cfafccf937d6486f">   97</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structpg__data__t.html#a33121b26a469c263cfafccf937d6486f">nr_zones</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structpg__data__t.html#ac63b6ac10acd6d6245daa8a3696507b2">   99</a></span>&#160;    <a class="code" href="structpage__t.html">page_t</a> *<a class="code" href="structpg__data__t.html#ac63b6ac10acd6d6245daa8a3696507b2">node_mem_map</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structpg__data__t.html#aec464048c8266fb7735a9ea05198f02e">  101</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structpg__data__t.html#aec464048c8266fb7735a9ea05198f02e">node_start_paddr</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structpg__data__t.html#a7c055f74761c4fc15d512332655dba23">  103</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structpg__data__t.html#a7c055f74761c4fc15d512332655dba23">node_start_mapnr</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structpg__data__t.html#a1d67ac3a1b439b1312dc042f8ebafef2">  105</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structpg__data__t.html#a1d67ac3a1b439b1312dc042f8ebafef2">node_size</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structpg__data__t.html#af9fbd2bd6215ba817937c405297aeb85">  107</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structpg__data__t.html#af9fbd2bd6215ba817937c405297aeb85">node_id</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structpg__data__t.html#a321a4f28419d57f93540531908d4ff57">  109</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structpg__data__t.html">pg_data_t</a> *<a class="code" href="structpg__data__t.html#a321a4f28419d57f93540531908d4ff57">node_next</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#ad9f250c5edf8145bb822de791eb07930">  110</a></span>&#160;} <a class="code" href="zone__allocator_8h.html#ad9f250c5edf8145bb822de791eb07930">pg_data_t</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">extern</span> <a class="code" href="structpage__t.html">page_t</a> *<a class="code" href="zone__allocator_8h.html#ae0d9e415dc7508ce000d631b061bd72c">mem_map</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">extern</span> <a class="code" href="structpg__data__t.html">pg_data_t</a> *<a class="code" href="zone__allocator_8h.html#aa3f4da00f7d0ba12f1f22c4002c4f831">contig_page_data</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="zone__allocator_8h.html#a61f7fc07eb39b47fe33f8008050b1bda">find_nearest_order_greater</a>(<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> base_addr, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> amount);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keywordtype">int</span> <a class="code" href="zone__allocator_8h.html#ae118563b91978e181e76a04d77c50860">pmmngr_init</a>(<a class="code" href="structboot__info__t.html">boot_info_t</a> *<a class="code" href="kernel_8c.html#a6fb24e311419027d49f1cab853a9a9ac">boot_info</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<a class="code" href="structpage__t.html">page_t</a> *<a class="code" href="zone__allocator_8h.html#a04446abca7c9e3ddd590c6779952705e">alloc_page_cached</a>(<a class="code" href="gfp_8h.html#a99dcacb83509949e516cf6ae0367ff73">gfp_t</a> gfp_mask);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keywordtype">int</span> <a class="code" href="zone__allocator_8h.html#a50f4eab4390517146b559c2abed5df0c">free_page_cached</a>(<a class="code" href="structpage__t.html">page_t</a> *page);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="zone__allocator_8h.html#a9c0199ff865e2c2743b52925ba7ae94a">__alloc_page_lowmem</a>(<a class="code" href="gfp_8h.html#a99dcacb83509949e516cf6ae0367ff73">gfp_t</a> gfp_mask);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keywordtype">int</span> <a class="code" href="zone__allocator_8h.html#a1117639df92ae7df60b82abb6ef363a0">free_page_lowmem</a>(<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> addr);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="zone__allocator_8h.html#a323b63ab21ca69fd1f38c87c9f020b6c">__alloc_pages_lowmem</a>(<a class="code" href="gfp_8h.html#a99dcacb83509949e516cf6ae0367ff73">gfp_t</a> gfp_mask, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> order);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<a class="code" href="structpage__t.html">page_t</a> *<a class="code" href="zone__allocator_8h.html#a5d09d77ada657a86decc99cc0319240f">_alloc_pages</a>(<a class="code" href="gfp_8h.html#a99dcacb83509949e516cf6ae0367ff73">gfp_t</a> gfp_mask, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> order);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="zone__allocator_8h.html#a78920bc7ec26ccf0813afe3eed2500bb">get_virtual_address_from_page</a>(<a class="code" href="structpage__t.html">page_t</a> *page);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="zone__allocator_8h.html#a0cab9b7ca23711b107872564fc5b70d0">get_physical_address_from_page</a>(<a class="code" href="structpage__t.html">page_t</a> *page);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<a class="code" href="structpage__t.html">page_t</a> *<a class="code" href="zone__allocator_8h.html#aca7799ecc8bf4d01ca0e886916f0ad80">get_page_from_physical_address</a>(<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> paddr);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<a class="code" href="structpage__t.html">page_t</a> *<a class="code" href="zone__allocator_8h.html#aae093a3ce10cc400d775d5bbbf860c32">get_page_from_virtual_address</a>(<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> vaddr);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keywordtype">int</span> <a class="code" href="zone__allocator_8h.html#a50006b138d35b2796d29b2365aa26bee">free_pages_lowmem</a>(<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> addr);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="keywordtype">int</span> <a class="code" href="zone__allocator_8h.html#aafaab4bfa51ea8de8aaa583e8c6afbcb">__free_pages</a>(<a class="code" href="structpage__t.html">page_t</a> *page);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="zone__allocator_8h.html#a4cafa8397028625232f13bfaff534f77">get_zone_total_space</a>(<a class="code" href="gfp_8h.html#a99dcacb83509949e516cf6ae0367ff73">gfp_t</a> gfp_mask);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="zone__allocator_8h.html#a1083d0ee8b656380a1edd1456d99c302">get_zone_free_space</a>(<a class="code" href="gfp_8h.html#a99dcacb83509949e516cf6ae0367ff73">gfp_t</a> gfp_mask);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="zone__allocator_8h.html#a72e6f56e18e2159403d0453e6c5a706c">get_zone_cached_space</a>(<a class="code" href="gfp_8h.html#a99dcacb83509949e516cf6ae0367ff73">gfp_t</a> gfp_mask);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="zone__allocator_8h.html#a8af8a95b3eb57dba8b1b7b2b50a97ac3">  218</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="zone__allocator_8h.html#a8af8a95b3eb57dba8b1b7b2b50a97ac3">is_lowmem_page_struct</a>(<span class="keywordtype">void</span> *addr)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> start_lowm_map  = (<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code" href="zone__allocator_8h.html#aa3f4da00f7d0ba12f1f22c4002c4f831">contig_page_data</a>-&gt;<a class="code" href="structpg__data__t.html#acaf78717329c2fa97a434577a3d78d48">node_zones</a>[<a class="code" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaae04e3071b5aefe12178a93c7c616dd8b">ZONE_NORMAL</a>].<a class="code" href="structzone__t.html#a64b2a322648a4ee45da94422481e5c91">zone_mem_map</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lowmem_map_size = <span class="keyword">sizeof</span>(<a class="code" href="structpage__t.html">page_t</a>) * <a class="code" href="zone__allocator_8h.html#aa3f4da00f7d0ba12f1f22c4002c4f831">contig_page_data</a>-&gt;<a class="code" href="structpg__data__t.html#acaf78717329c2fa97a434577a3d78d48">node_zones</a>[<a class="code" href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaae04e3071b5aefe12178a93c7c616dd8b">ZONE_NORMAL</a>].<a class="code" href="structzone__t.html#ae6ea0cf7ed538a2e6c83715de43e0391">size</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> map_index       = (<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)addr - start_lowm_map;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> map_index &lt; lowmem_map_size;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="abitops_8h_html"><div class="ttname"><a href="bitops_8h.html">bitops.h</a></div><div class="ttdoc">Bitmasks functions.</div></div>
<div class="ttc" id="aboot_8h_html"><div class="ttname"><a href="boot_8h.html">boot.h</a></div><div class="ttdoc">Bootloader structures.</div></div>
<div class="ttc" id="abuddysystem_8h_html"><div class="ttname"><a href="buddysystem_8h.html">buddysystem.h</a></div><div class="ttdoc">Buddy System.</div></div>
<div class="ttc" id="agfp_8h_html"><div class="ttname"><a href="gfp_8h.html">gfp.h</a></div><div class="ttdoc">List of Get Free Pages (GFP) Flags.</div></div>
<div class="ttc" id="agfp_8h_html_a99dcacb83509949e516cf6ae0367ff73"><div class="ttname"><a href="gfp_8h.html#a99dcacb83509949e516cf6ae0367ff73">gfp_t</a></div><div class="ttdeci">unsigned int gfp_t</div><div class="ttdoc">Type used for GFP_FLAGS.</div><div class="ttdef"><b>Definition:</b> gfp.h:9</div></div>
<div class="ttc" id="akernel_8c_html_a6fb24e311419027d49f1cab853a9a9ac"><div class="ttname"><a href="kernel_8c.html#a6fb24e311419027d49f1cab853a9a9ac">boot_info</a></div><div class="ttdeci">boot_info_t boot_info</div><div class="ttdoc">The boot info.</div><div class="ttdef"><b>Definition:</b> kernel.c:80</div></div>
<div class="ttc" id="amath_8h_html"><div class="ttname"><a href="math_8h.html">math.h</a></div><div class="ttdoc">Mathematical constants and functions.</div></div>
<div class="ttc" id="aslab_8h_html"><div class="ttname"><a href="slab_8h.html">slab.h</a></div><div class="ttdoc">Functions and structures for managing memory slabs.</div></div>
<div class="ttc" id="astdatomic_8h_html"><div class="ttname"><a href="stdatomic_8h.html">stdatomic.h</a></div></div>
<div class="ttc" id="astdatomic_8h_html_a27fd26b0ec72da709c47536f496e5844"><div class="ttname"><a href="stdatomic_8h.html#a27fd26b0ec72da709c47536f496e5844">atomic_t</a></div><div class="ttdeci">volatile unsigned atomic_t</div><div class="ttdoc">Standard structure for atomic operations (see below for volatile explanation).</div><div class="ttdef"><b>Definition:</b> stdatomic.h:12</div></div>
<div class="ttc" id="astdint_8h_html"><div class="ttname"><a href="stdint_8h.html">stdint.h</a></div><div class="ttdoc">Standard integer data-types.</div></div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdoc">Define the unsigned 32-bit integer.</div><div class="ttdef"><b>Definition:</b> stdint.h:18</div></div>
<div class="ttc" id="astructbb__instance__t_html"><div class="ttname"><a href="structbb__instance__t.html">bb_instance_t</a></div><div class="ttdoc">Buddy system instance, that represents a memory area managed by the buddy system.</div><div class="ttdef"><b>Definition:</b> buddysystem.h:50</div></div>
<div class="ttc" id="astructbb__page__t_html"><div class="ttname"><a href="structbb__page__t.html">bb_page_t</a></div><div class="ttdoc">The base structure representing a bb page.</div><div class="ttdef"><b>Definition:</b> buddysystem.h:25</div></div>
<div class="ttc" id="astructboot__info__t_html"><div class="ttname"><a href="structboot__info__t.html">boot_info_t</a></div><div class="ttdoc">Mentos structure to communicate bootloader info to the kernel.</div><div class="ttdef"><b>Definition:</b> boot.h:11</div></div>
<div class="ttc" id="astructkmem__cache__t_html"><div class="ttname"><a href="structkmem__cache__t.html">kmem_cache_t</a></div><div class="ttdoc">Stores the information of a cache.</div><div class="ttdef"><b>Definition:</b> slab.h:27</div></div>
<div class="ttc" id="astructpage__t_html"><div class="ttname"><a href="structpage__t.html">page_t</a></div><div class="ttdoc">Page descriptor. Use as a bitmap to understand the order of the block and if it is free or allocated.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:25</div></div>
<div class="ttc" id="astructpage__t_html_a02d3c039c9cca89ba1bf19046d9eaf41"><div class="ttname"><a href="structpage__t.html#a02d3c039c9cca89ba1bf19046d9eaf41">page_t::count</a></div><div class="ttdeci">atomic_t count</div><div class="ttdoc">Page frame’s reference counter. 0 free, 1 used, 2+ copy on write.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:30</div></div>
<div class="ttc" id="astructpage__t_html_a22ba648c3832ec830dad4bdade357bfe"><div class="ttname"><a href="structpage__t.html#a22ba648c3832ec830dad4bdade357bfe">page_t::bbpage</a></div><div class="ttdeci">bb_page_t bbpage</div><div class="ttdoc">Buddy system page definition.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:32</div></div>
<div class="ttc" id="astructpage__t_html_a25f35d003f534face481c38f6543e102"><div class="ttname"><a href="structpage__t.html#a25f35d003f534face481c38f6543e102">page_t::slab_freelist</a></div><div class="ttdeci">list_head slab_freelist</div><div class="ttdoc">Holds the first free object (if slab_objfree is &gt; 0)</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:41</div></div>
<div class="ttc" id="astructpage__t_html_a7bd9a24f4b4b98767528bfff2b01c743"><div class="ttname"><a href="structpage__t.html#a7bd9a24f4b4b98767528bfff2b01c743">page_t::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdoc">Array of flags encoding also the zone number to which the page frame belongs.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:28</div></div>
<div class="ttc" id="astructpage__t_html_a95297c563b99af6f00e40f7732855b78"><div class="ttname"><a href="structpage__t.html#a95297c563b99af6f00e40f7732855b78">page_t::slabs</a></div><div class="ttdeci">list_head slabs</div><div class="ttdoc">Contains pointers to the slabs doubly linked list of pages.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:34</div></div>
<div class="ttc" id="astructpage__t_html_ad2b355ced61d5315c5742c4349939a8f"><div class="ttname"><a href="structpage__t.html#ad2b355ced61d5315c5742c4349939a8f">page_t::container</a></div><div class="ttdeci">union page_t::@6 container</div><div class="ttdoc">This union can either contain the pointer to the slab main page that handles this page,...</div></div>
<div class="ttc" id="astructpage__t_html_adbb5282192be93dbfc1d230897d38163"><div class="ttname"><a href="structpage__t.html#adbb5282192be93dbfc1d230897d38163">page_t::slab_cache</a></div><div class="ttdeci">kmem_cache_t * slab_cache</div><div class="ttdoc">Holds the slab cache pointer on the main page.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:49</div></div>
<div class="ttc" id="astructpage__t_html_adbee1f273b27cc1feee6ed2d3a6ff110"><div class="ttname"><a href="structpage__t.html#adbee1f273b27cc1feee6ed2d3a6ff110">page_t::slab_objcnt</a></div><div class="ttdeci">unsigned int slab_objcnt</div><div class="ttdoc">Slab allocator variables / Contains the total number of objects in this page, 0 if not managed by the...</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:37</div></div>
<div class="ttc" id="astructpage__t_html_ae595ea9702ead9ae4fe06bf223ede97d"><div class="ttname"><a href="structpage__t.html#ae595ea9702ead9ae4fe06bf223ede97d">page_t::slab_main_page</a></div><div class="ttdeci">struct page_t * slab_main_page</div><div class="ttdoc">Holds the slab page used to handle this memory region (root page).</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:47</div></div>
<div class="ttc" id="astructpage__t_html_aefec6cb65b3910439b5156fb8ca1b3cb"><div class="ttname"><a href="structpage__t.html#aefec6cb65b3910439b5156fb8ca1b3cb">page_t::slab_objfree</a></div><div class="ttdeci">unsigned int slab_objfree</div><div class="ttdoc">Tracks the number of free objects in the current page.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:39</div></div>
<div class="ttc" id="astructpg__data__t_html"><div class="ttname"><a href="structpg__data__t.html">pg_data_t</a></div><div class="ttdoc">Data structure to rapresent a memory node. In Uniform memory access (UMA) architectures there is only...</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:93</div></div>
<div class="ttc" id="astructpg__data__t_html_a1d67ac3a1b439b1312dc042f8ebafef2"><div class="ttname"><a href="structpg__data__t.html#a1d67ac3a1b439b1312dc042f8ebafef2">pg_data_t::node_size</a></div><div class="ttdeci">unsigned long node_size</div><div class="ttdoc">Node's size in number of pages.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:105</div></div>
<div class="ttc" id="astructpg__data__t_html_a321a4f28419d57f93540531908d4ff57"><div class="ttname"><a href="structpg__data__t.html#a321a4f28419d57f93540531908d4ff57">pg_data_t::node_next</a></div><div class="ttdeci">struct pg_data_t * node_next</div><div class="ttdoc">Next item in the memory node list.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:109</div></div>
<div class="ttc" id="astructpg__data__t_html_a33121b26a469c263cfafccf937d6486f"><div class="ttname"><a href="structpg__data__t.html#a33121b26a469c263cfafccf937d6486f">pg_data_t::nr_zones</a></div><div class="ttdeci">int nr_zones</div><div class="ttdoc">Number of zones in the node.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:97</div></div>
<div class="ttc" id="astructpg__data__t_html_a7c055f74761c4fc15d512332655dba23"><div class="ttname"><a href="structpg__data__t.html#a7c055f74761c4fc15d512332655dba23">pg_data_t::node_start_mapnr</a></div><div class="ttdeci">unsigned long node_start_mapnr</div><div class="ttdoc">Index on global mem_map for node_mem_map.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:103</div></div>
<div class="ttc" id="astructpg__data__t_html_ac63b6ac10acd6d6245daa8a3696507b2"><div class="ttname"><a href="structpg__data__t.html#ac63b6ac10acd6d6245daa8a3696507b2">pg_data_t::node_mem_map</a></div><div class="ttdeci">page_t * node_mem_map</div><div class="ttdoc">Array of pages of the node.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:99</div></div>
<div class="ttc" id="astructpg__data__t_html_acaf78717329c2fa97a434577a3d78d48"><div class="ttname"><a href="structpg__data__t.html#acaf78717329c2fa97a434577a3d78d48">pg_data_t::node_zones</a></div><div class="ttdeci">zone_t node_zones[__MAX_NR_ZONES]</div><div class="ttdoc">Zones of the node.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:95</div></div>
<div class="ttc" id="astructpg__data__t_html_aec464048c8266fb7735a9ea05198f02e"><div class="ttname"><a href="structpg__data__t.html#aec464048c8266fb7735a9ea05198f02e">pg_data_t::node_start_paddr</a></div><div class="ttdeci">unsigned long node_start_paddr</div><div class="ttdoc">Physical address of the first page of the node.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:101</div></div>
<div class="ttc" id="astructpg__data__t_html_af9fbd2bd6215ba817937c405297aeb85"><div class="ttname"><a href="structpg__data__t.html#af9fbd2bd6215ba817937c405297aeb85">pg_data_t::node_id</a></div><div class="ttdeci">int node_id</div><div class="ttdoc">NID.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:107</div></div>
<div class="ttc" id="astructzone__t_html"><div class="ttname"><a href="structzone__t.html">zone_t</a></div><div class="ttdoc">Data structure to differentiate memory zone.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:76</div></div>
<div class="ttc" id="astructzone__t_html_a0809468718c38d71f450b38d75b988c7"><div class="ttname"><a href="structzone__t.html#a0809468718c38d71f450b38d75b988c7">zone_t::free_pages</a></div><div class="ttdeci">unsigned long free_pages</div><div class="ttdoc">Number of free pages in the zone.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:78</div></div>
<div class="ttc" id="astructzone__t_html_a2af42ce4e83d18c1e199afeadff5187c"><div class="ttname"><a href="structzone__t.html#a2af42ce4e83d18c1e199afeadff5187c">zone_t::zone_start_pfn</a></div><div class="ttdeci">uint32_t zone_start_pfn</div><div class="ttdoc">Index of the first page frame of the zone.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:84</div></div>
<div class="ttc" id="astructzone__t_html_a5791bd18ceb54e39c8e027a8d02e5d5c"><div class="ttname"><a href="structzone__t.html#a5791bd18ceb54e39c8e027a8d02e5d5c">zone_t::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Zone's name.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:86</div></div>
<div class="ttc" id="astructzone__t_html_a64b2a322648a4ee45da94422481e5c91"><div class="ttname"><a href="structzone__t.html#a64b2a322648a4ee45da94422481e5c91">zone_t::zone_mem_map</a></div><div class="ttdeci">page_t * zone_mem_map</div><div class="ttdoc">Pointer to first page descriptor of the zone.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:82</div></div>
<div class="ttc" id="astructzone__t_html_a9cbb2e975e8f572e89539c372fa70390"><div class="ttname"><a href="structzone__t.html#a9cbb2e975e8f572e89539c372fa70390">zone_t::buddy_system</a></div><div class="ttdeci">bb_instance_t buddy_system</div><div class="ttdoc">Buddy system managing this zone.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:80</div></div>
<div class="ttc" id="astructzone__t_html_ae6ea0cf7ed538a2e6c83715de43e0391"><div class="ttname"><a href="structzone__t.html#ae6ea0cf7ed538a2e6c83715de43e0391">zone_t::size</a></div><div class="ttdeci">unsigned long size</div><div class="ttdoc">Zone's size in number of pages.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:88</div></div>
<div class="ttc" id="azone__allocator_8h_html_a04446abca7c9e3ddd590c6779952705e"><div class="ttname"><a href="zone__allocator_8h.html#a04446abca7c9e3ddd590c6779952705e">alloc_page_cached</a></div><div class="ttdeci">page_t * alloc_page_cached(gfp_t gfp_mask)</div><div class="ttdoc">Allocates a cached page based on the given GFP mask.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:596</div></div>
<div class="ttc" id="azone__allocator_8h_html_a0cab9b7ca23711b107872564fc5b70d0"><div class="ttname"><a href="zone__allocator_8h.html#a0cab9b7ca23711b107872564fc5b70d0">get_physical_address_from_page</a></div><div class="ttdeci">uint32_t get_physical_address_from_page(page_t *page)</div><div class="ttdoc">Converts a page structure to its corresponding physical address.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:144</div></div>
<div class="ttc" id="azone__allocator_8h_html_a0fdf79ffb0b79648e58d693137ccfada"><div class="ttname"><a href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfada">zone_type</a></div><div class="ttdeci">zone_type</div><div class="ttdoc">Enumeration for zone_t.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:54</div></div>
<div class="ttc" id="azone__allocator_8h_html_a0fdf79ffb0b79648e58d693137ccfadaa274e4b70b8facd808390afd8833440f5"><div class="ttname"><a href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaa274e4b70b8facd808390afd8833440f5">ZONE_HIGHMEM</a></div><div class="ttdeci">@ ZONE_HIGHMEM</div><div class="ttdoc">Page tables mapping. Used by user processes.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:69</div></div>
<div class="ttc" id="azone__allocator_8h_html_a0fdf79ffb0b79648e58d693137ccfadaac210316b34bd6909d0a1b0126e39b286"><div class="ttname"><a href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaac210316b34bd6909d0a1b0126e39b286">__MAX_NR_ZONES</a></div><div class="ttdeci">@ __MAX_NR_ZONES</div><div class="ttdoc">The maximum number of zones.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:72</div></div>
<div class="ttc" id="azone__allocator_8h_html_a0fdf79ffb0b79648e58d693137ccfadaae04e3071b5aefe12178a93c7c616dd8b"><div class="ttname"><a href="zone__allocator_8h.html#a0fdf79ffb0b79648e58d693137ccfadaae04e3071b5aefe12178a93c7c616dd8b">ZONE_NORMAL</a></div><div class="ttdeci">@ ZONE_NORMAL</div><div class="ttdoc">Direct mapping. Used by the kernel.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:60</div></div>
<div class="ttc" id="azone__allocator_8h_html_a1083d0ee8b656380a1edd1456d99c302"><div class="ttname"><a href="zone__allocator_8h.html#a1083d0ee8b656380a1edd1456d99c302">get_zone_free_space</a></div><div class="ttdeci">unsigned long get_zone_free_space(gfp_t gfp_mask)</div><div class="ttdoc">Retrieves the free space of the zone corresponding to the given GFP mask.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:833</div></div>
<div class="ttc" id="azone__allocator_8h_html_a1117639df92ae7df60b82abb6ef363a0"><div class="ttname"><a href="zone__allocator_8h.html#a1117639df92ae7df60b82abb6ef363a0">free_page_lowmem</a></div><div class="ttdeci">int free_page_lowmem(uint32_t addr)</div><div class="ttdoc">Frees the given page frame address.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:658</div></div>
<div class="ttc" id="azone__allocator_8h_html_a323b63ab21ca69fd1f38c87c9f020b6c"><div class="ttname"><a href="zone__allocator_8h.html#a323b63ab21ca69fd1f38c87c9f020b6c">__alloc_pages_lowmem</a></div><div class="ttdeci">uint32_t __alloc_pages_lowmem(gfp_t gfp_mask, uint32_t order)</div><div class="ttdoc">Find the first free 2^order amount of page frames, set it allocated and return the memory address of ...</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:675</div></div>
<div class="ttc" id="azone__allocator_8h_html_a4cafa8397028625232f13bfaff534f77"><div class="ttname"><a href="zone__allocator_8h.html#a4cafa8397028625232f13bfaff534f77">get_zone_total_space</a></div><div class="ttdeci">unsigned long get_zone_total_space(gfp_t gfp_mask)</div><div class="ttdoc">Retrieves the total space of the zone corresponding to the given GFP mask.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:818</div></div>
<div class="ttc" id="azone__allocator_8h_html_a50006b138d35b2796d29b2365aa26bee"><div class="ttname"><a href="zone__allocator_8h.html#a50006b138d35b2796d29b2365aa26bee">free_pages_lowmem</a></div><div class="ttdeci">int free_pages_lowmem(uint32_t addr)</div><div class="ttdoc">Frees from the given page frame address up to 2^order amount of page frames.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:762</div></div>
<div class="ttc" id="azone__allocator_8h_html_a50f4eab4390517146b559c2abed5df0c"><div class="ttname"><a href="zone__allocator_8h.html#a50f4eab4390517146b559c2abed5df0c">free_page_cached</a></div><div class="ttdeci">int free_page_cached(page_t *page)</div><div class="ttdoc">Free a page allocated with alloc_page_cached.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:620</div></div>
<div class="ttc" id="azone__allocator_8h_html_a5d09d77ada657a86decc99cc0319240f"><div class="ttname"><a href="zone__allocator_8h.html#a5d09d77ada657a86decc99cc0319240f">_alloc_pages</a></div><div class="ttdeci">page_t * _alloc_pages(gfp_t gfp_mask, uint32_t order)</div><div class="ttdoc">Find the first free 2^order amount of page frames, set it allocated and return the memory address of ...</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:714</div></div>
<div class="ttc" id="azone__allocator_8h_html_a61f7fc07eb39b47fe33f8008050b1bda"><div class="ttname"><a href="zone__allocator_8h.html#a61f7fc07eb39b47fe33f8008050b1bda">find_nearest_order_greater</a></div><div class="ttdeci">uint32_t find_nearest_order_greater(uint32_t base_addr, uint32_t amount)</div><div class="ttdoc">Finds the nearest order of memory allocation that can accommodate a given amount of memory.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:480</div></div>
<div class="ttc" id="azone__allocator_8h_html_a6859408e346d71f46cf0b65c83362016"><div class="ttname"><a href="zone__allocator_8h.html#a6859408e346d71f46cf0b65c83362016">zone_t</a></div><div class="ttdeci">struct zone_t zone_t</div><div class="ttdoc">Data structure to differentiate memory zone.</div></div>
<div class="ttc" id="azone__allocator_8h_html_a72e6f56e18e2159403d0453e6c5a706c"><div class="ttname"><a href="zone__allocator_8h.html#a72e6f56e18e2159403d0453e6c5a706c">get_zone_cached_space</a></div><div class="ttdeci">unsigned long get_zone_cached_space(gfp_t gfp_mask)</div><div class="ttdoc">Retrieves the cached space of the zone corresponding to the given GFP mask.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:848</div></div>
<div class="ttc" id="azone__allocator_8h_html_a78920bc7ec26ccf0813afe3eed2500bb"><div class="ttname"><a href="zone__allocator_8h.html#a78920bc7ec26ccf0813afe3eed2500bb">get_virtual_address_from_page</a></div><div class="ttdeci">uint32_t get_virtual_address_from_page(page_t *page)</div><div class="ttdoc">Converts a page structure to its corresponding low memory virtual address.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:119</div></div>
<div class="ttc" id="azone__allocator_8h_html_a8af8a95b3eb57dba8b1b7b2b50a97ac3"><div class="ttname"><a href="zone__allocator_8h.html#a8af8a95b3eb57dba8b1b7b2b50a97ac3">is_lowmem_page_struct</a></div><div class="ttdeci">static int is_lowmem_page_struct(void *addr)</div><div class="ttdoc">Checks if the specified address points to a page_t (or field) that belongs to lowmem.</div><div class="ttdef"><b>Definition:</b> zone_allocator.h:218</div></div>
<div class="ttc" id="azone__allocator_8h_html_a9c0199ff865e2c2743b52925ba7ae94a"><div class="ttname"><a href="zone__allocator_8h.html#a9c0199ff865e2c2743b52925ba7ae94a">__alloc_page_lowmem</a></div><div class="ttdeci">uint32_t __alloc_page_lowmem(gfp_t gfp_mask)</div><div class="ttdoc">Find the first free page frame, set it allocated and return the memory address of the page frame.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:643</div></div>
<div class="ttc" id="azone__allocator_8h_html_aa3f4da00f7d0ba12f1f22c4002c4f831"><div class="ttname"><a href="zone__allocator_8h.html#aa3f4da00f7d0ba12f1f22c4002c4f831">contig_page_data</a></div><div class="ttdeci">pg_data_t * contig_page_data</div><div class="ttdoc">Memory node descriptor for contiguous memory.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:52</div></div>
<div class="ttc" id="azone__allocator_8h_html_aae093a3ce10cc400d775d5bbbf860c32"><div class="ttname"><a href="zone__allocator_8h.html#aae093a3ce10cc400d775d5bbbf860c32">get_page_from_virtual_address</a></div><div class="ttdeci">page_t * get_page_from_virtual_address(uint32_t vaddr)</div><div class="ttdoc">Retrieves the low memory page corresponding to the given virtual address.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:167</div></div>
<div class="ttc" id="azone__allocator_8h_html_aafaab4bfa51ea8de8aaa583e8c6afbcb"><div class="ttname"><a href="zone__allocator_8h.html#aafaab4bfa51ea8de8aaa583e8c6afbcb">__free_pages</a></div><div class="ttdeci">int __free_pages(page_t *page)</div><div class="ttdoc">Frees from the given page frame address up to 2^order amount of page frames.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:779</div></div>
<div class="ttc" id="azone__allocator_8h_html_aca7799ecc8bf4d01ca0e886916f0ad80"><div class="ttname"><a href="zone__allocator_8h.html#aca7799ecc8bf4d01ca0e886916f0ad80">get_page_from_physical_address</a></div><div class="ttdeci">page_t * get_page_from_physical_address(uint32_t paddr)</div><div class="ttdoc">Retrieves the page structure corresponding to a given physical address.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:192</div></div>
<div class="ttc" id="azone__allocator_8h_html_ace2af291a76ffee949c3f3ee1a56faa1"><div class="ttname"><a href="zone__allocator_8h.html#ace2af291a76ffee949c3f3ee1a56faa1">page_t</a></div><div class="ttdeci">struct page_t page_t</div><div class="ttdoc">Page descriptor. Use as a bitmap to understand the order of the block and if it is free or allocated.</div></div>
<div class="ttc" id="azone__allocator_8h_html_ad9f250c5edf8145bb822de791eb07930"><div class="ttname"><a href="zone__allocator_8h.html#ad9f250c5edf8145bb822de791eb07930">pg_data_t</a></div><div class="ttdeci">struct pg_data_t pg_data_t</div><div class="ttdoc">Data structure to rapresent a memory node. In Uniform memory access (UMA) architectures there is only...</div></div>
<div class="ttc" id="azone__allocator_8h_html_ae0d9e415dc7508ce000d631b061bd72c"><div class="ttname"><a href="zone__allocator_8h.html#ae0d9e415dc7508ce000d631b061bd72c">mem_map</a></div><div class="ttdeci">page_t * mem_map</div><div class="ttdoc">Array of all physical memory blocks (pages).</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:46</div></div>
<div class="ttc" id="azone__allocator_8h_html_ae118563b91978e181e76a04d77c50860"><div class="ttname"><a href="zone__allocator_8h.html#ae118563b91978e181e76a04d77c50860">pmmngr_init</a></div><div class="ttdeci">int pmmngr_init(boot_info_t *boot_info)</div><div class="ttdoc">Physical memory manager initialization.</div><div class="ttdef"><b>Definition:</b> zone_allocator.c:504</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
