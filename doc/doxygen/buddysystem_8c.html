<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MentOS: /home/enrico/repository/personal/mentos/mentos/src/mem/buddysystem.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MentOS
   &#160;<span id="projectnumber">0.7.3</span>
   </div>
   <div id="projectbrief">The Mentoring Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b4d46abdb8cafe1ad6c14fa0f9992e34.html">mentos</a></li><li class="navelem"><a class="el" href="dir_d299fed5c83b024e8b5c525a233be574.html">src</a></li><li class="navelem"><a class="el" href="dir_08b6eaf56fb9bda47473cca56ca9e53c.html">mem</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">buddysystem.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Buddy System.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae88fdea60e151933ce52a92938897dac"><td class="memItemLeft" align="right" valign="top"><a id="ae88fdea60e151933ce52a92938897dac"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#ae88fdea60e151933ce52a92938897dac">__DEBUG_HEADER__</a>&#160;&#160;&#160;&quot;[BUDDY ]&quot;</td></tr>
<tr class="memdesc:ae88fdea60e151933ce52a92938897dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change header. <br /></td></tr>
<tr class="separator:ae88fdea60e151933ce52a92938897dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785e7dc04a8b1423d105b10f7af0720c"><td class="memItemLeft" align="right" valign="top"><a id="a785e7dc04a8b1423d105b10f7af0720c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a785e7dc04a8b1423d105b10f7af0720c">__DEBUG_LEVEL__</a>&#160;&#160;&#160;<a class="el" href="kernel__levels_8h.html#a4377191d729d923509b6953555776d80">LOGLEVEL_NOTICE</a></td></tr>
<tr class="memdesc:a785e7dc04a8b1423d105b10f7af0720c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set log level. <br /></td></tr>
<tr class="separator:a785e7dc04a8b1423d105b10f7af0720c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad00714a2c3da1237d69cde26147ac8"><td class="memItemLeft" align="right" valign="top"><a id="afad00714a2c3da1237d69cde26147ac8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#afad00714a2c3da1237d69cde26147ac8">LOW_WATERMARK_LEVEL</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:afad00714a2c3da1237d69cde26147ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache level low limit after which allocation starts. <br /></td></tr>
<tr class="separator:afad00714a2c3da1237d69cde26147ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cdea273e55295f1fd6daf15f9880a8e"><td class="memItemLeft" align="right" valign="top"><a id="a4cdea273e55295f1fd6daf15f9880a8e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a4cdea273e55295f1fd6daf15f9880a8e">HIGH_WATERMARK_LEVEL</a>&#160;&#160;&#160;70</td></tr>
<tr class="memdesc:a4cdea273e55295f1fd6daf15f9880a8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache level high limit, above it deallocation happens. <br /></td></tr>
<tr class="separator:a4cdea273e55295f1fd6daf15f9880a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0c511c46af2e291acfaccdf8b7298f"><td class="memItemLeft" align="right" valign="top"><a id="acf0c511c46af2e291acfaccdf8b7298f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#acf0c511c46af2e291acfaccdf8b7298f">MID_WATERMARK_LEVEL</a>&#160;&#160;&#160;((<a class="el" href="buddysystem_8c.html#afad00714a2c3da1237d69cde26147ac8">LOW_WATERMARK_LEVEL</a> + <a class="el" href="buddysystem_8c.html#a4cdea273e55295f1fd6daf15f9880a8e">HIGH_WATERMARK_LEVEL</a>) / 2)</td></tr>
<tr class="memdesc:acf0c511c46af2e291acfaccdf8b7298f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache level midway limit. <br /></td></tr>
<tr class="separator:acf0c511c46af2e291acfaccdf8b7298f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8d7bdea3dd034eb2d4ef41644fe7593a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a8d7bdea3dd034eb2d4ef41644fe7593a">bb_flag</a> { <a class="el" href="buddysystem_8c.html#a8d7bdea3dd034eb2d4ef41644fe7593aa9ae2f42040fcb2b48d57fedc884c5785">FREE_PAGE</a> = 0
, <a class="el" href="buddysystem_8c.html#a8d7bdea3dd034eb2d4ef41644fe7593aa4c2039e4d534c6b0a81236cb2e2411c6">ROOT_PAGE</a> = 1
 }</td></tr>
<tr class="memdesc:a8d7bdea3dd034eb2d4ef41644fe7593a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitwise flags for identifying page types and statuses.  <a href="buddysystem_8c.html#a8d7bdea3dd034eb2d4ef41644fe7593a">More...</a><br /></td></tr>
<tr class="separator:a8d7bdea3dd034eb2d4ef41644fe7593a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afdfc7aa89085851bc1b7560db7f66964"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#afdfc7aa89085851bc1b7560db7f66964">__bb_set_flag</a> (<a class="el" href="structbb__page__t.html">bb_page_t</a> *page, int flag)</td></tr>
<tr class="memdesc:afdfc7aa89085851bc1b7560db7f66964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the given flag in the page.  <a href="buddysystem_8c.html#afdfc7aa89085851bc1b7560db7f66964">More...</a><br /></td></tr>
<tr class="separator:afdfc7aa89085851bc1b7560db7f66964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae29281484883f3042621f8389844c10f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#ae29281484883f3042621f8389844c10f">__bb_clear_flag</a> (<a class="el" href="structbb__page__t.html">bb_page_t</a> *page, int flag)</td></tr>
<tr class="memdesc:ae29281484883f3042621f8389844c10f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the given flag from the page.  <a href="buddysystem_8c.html#ae29281484883f3042621f8389844c10f">More...</a><br /></td></tr>
<tr class="separator:ae29281484883f3042621f8389844c10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5836eaaa8cd448ff1bf120e19cf6012"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#af5836eaaa8cd448ff1bf120e19cf6012">__bb_test_flag</a> (<a class="el" href="structbb__page__t.html">bb_page_t</a> *page, int flag)</td></tr>
<tr class="memdesc:af5836eaaa8cd448ff1bf120e19cf6012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the given flag from the page.  <a href="buddysystem_8c.html#af5836eaaa8cd448ff1bf120e19cf6012">More...</a><br /></td></tr>
<tr class="separator:af5836eaaa8cd448ff1bf120e19cf6012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe721ebcd5e4489cf780860fc26b1118"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#afe721ebcd5e4489cf780860fc26b1118">__get_page_from_base</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, <a class="el" href="structbb__page__t.html">bb_page_t</a> *base, unsigned int index)</td></tr>
<tr class="memdesc:afe721ebcd5e4489cf780860fc26b1118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the page at the given index, starting from the given base.  <a href="buddysystem_8c.html#afe721ebcd5e4489cf780860fc26b1118">More...</a><br /></td></tr>
<tr class="separator:afe721ebcd5e4489cf780860fc26b1118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae160d20676e44008af2256fc3ef4c9d4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#ae160d20676e44008af2256fc3ef4c9d4">__get_page_at_index</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, unsigned int index)</td></tr>
<tr class="memdesc:ae160d20676e44008af2256fc3ef4c9d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the page at the given index, starting from the first page of the BB system.  <a href="buddysystem_8c.html#ae160d20676e44008af2256fc3ef4c9d4">More...</a><br /></td></tr>
<tr class="separator:ae160d20676e44008af2256fc3ef4c9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ee891488a66f0fc8f9778a66e60356"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#aa7ee891488a66f0fc8f9778a66e60356">__get_page_range</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, <a class="el" href="structbb__page__t.html">bb_page_t</a> *begin, <a class="el" href="structbb__page__t.html">bb_page_t</a> *<a class="el" href="kernel_8c.html#a204a3f4fa39b9c007f9784d3e4af4667">end</a>)</td></tr>
<tr class="memdesc:aa7ee891488a66f0fc8f9778a66e60356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the number of pages separating the two pages (begin, end).  <a href="buddysystem_8c.html#aa7ee891488a66f0fc8f9778a66e60356">More...</a><br /></td></tr>
<tr class="separator:aa7ee891488a66f0fc8f9778a66e60356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ce8f62b80af728009dd767b2976942"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a35ce8f62b80af728009dd767b2976942">__get_buddy_at_index</a> (unsigned long page_idx, unsigned int order)</td></tr>
<tr class="memdesc:a35ce8f62b80af728009dd767b2976942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the buddy index of a page.  <a href="buddysystem_8c.html#a35ce8f62b80af728009dd767b2976942">More...</a><br /></td></tr>
<tr class="separator:a35ce8f62b80af728009dd767b2976942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd577d09a42a6087ddcb27f6dc95639"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbb__free__area__t.html">bb_free_area_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#adfd577d09a42a6087ddcb27f6dc95639">__get_area_of_order</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, unsigned int order)</td></tr>
<tr class="memdesc:adfd577d09a42a6087ddcb27f6dc95639"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer to the free-area manager for the given order.  <a href="buddysystem_8c.html#adfd577d09a42a6087ddcb27f6dc95639">More...</a><br /></td></tr>
<tr class="separator:adfd577d09a42a6087ddcb27f6dc95639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aed8c4021507d758e5b5941088a3f5e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a5aed8c4021507d758e5b5941088a3f5e">__page_is_buddy</a> (<a class="el" href="structbb__page__t.html">bb_page_t</a> *page, unsigned int order)</td></tr>
<tr class="memdesc:a5aed8c4021507d758e5b5941088a3f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the page is FREE and has the same order.  <a href="buddysystem_8c.html#a5aed8c4021507d758e5b5941088a3f5e">More...</a><br /></td></tr>
<tr class="separator:a5aed8c4021507d758e5b5941088a3f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65785882f5d56f483770bc05543d5eb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a65785882f5d56f483770bc05543d5eb6">bb_alloc_pages</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, unsigned int order)</td></tr>
<tr class="memdesc:a65785882f5d56f483770bc05543d5eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a block of page frames of size 2^order.  <a href="buddysystem_8c.html#a65785882f5d56f483770bc05543d5eb6">More...</a><br /></td></tr>
<tr class="separator:a65785882f5d56f483770bc05543d5eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626195311d2297b9e81267157ff71676"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a626195311d2297b9e81267157ff71676">bb_free_pages</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, <a class="el" href="structbb__page__t.html">bb_page_t</a> *page)</td></tr>
<tr class="memdesc:a626195311d2297b9e81267157ff71676"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a block of page frames of size 2^order.  <a href="buddysystem_8c.html#a626195311d2297b9e81267157ff71676">More...</a><br /></td></tr>
<tr class="separator:a626195311d2297b9e81267157ff71676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae602e79144bf8acd5d1352cab79710e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#ae602e79144bf8acd5d1352cab79710e6">buddy_system_init</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, const char *name, void *pages_start, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bbpage_offset, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pages_stride, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pages_count)</td></tr>
<tr class="memdesc:ae602e79144bf8acd5d1352cab79710e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Buddy System.  <a href="buddysystem_8c.html#ae602e79144bf8acd5d1352cab79710e6">More...</a><br /></td></tr>
<tr class="separator:ae602e79144bf8acd5d1352cab79710e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcceb7b305c289998d4a666adadbb3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a5fcceb7b305c289998d4a666adadbb3a">buddy_system_dump</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance)</td></tr>
<tr class="memdesc:a5fcceb7b305c289998d4a666adadbb3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the size of free_list of each free_area.  <a href="buddysystem_8c.html#a5fcceb7b305c289998d4a666adadbb3a">More...</a><br /></td></tr>
<tr class="separator:a5fcceb7b305c289998d4a666adadbb3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ab08dd08a270a41b93d5e738a96d6d"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a87ab08dd08a270a41b93d5e738a96d6d">buddy_system_get_total_space</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance)</td></tr>
<tr class="memdesc:a87ab08dd08a270a41b93d5e738a96d6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total space for the given instance.  <a href="buddysystem_8c.html#a87ab08dd08a270a41b93d5e738a96d6d">More...</a><br /></td></tr>
<tr class="separator:a87ab08dd08a270a41b93d5e738a96d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0635562150ad0b348b32c85cbb94cbd7"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a0635562150ad0b348b32c85cbb94cbd7">buddy_system_get_free_space</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance)</td></tr>
<tr class="memdesc:a0635562150ad0b348b32c85cbb94cbd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the free space for the given instance.  <a href="buddysystem_8c.html#a0635562150ad0b348b32c85cbb94cbd7">More...</a><br /></td></tr>
<tr class="separator:a0635562150ad0b348b32c85cbb94cbd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d44b9ea0141a42034fa20d1b399096b"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a4d44b9ea0141a42034fa20d1b399096b">buddy_system_get_cached_space</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance)</td></tr>
<tr class="memdesc:a4d44b9ea0141a42034fa20d1b399096b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the cached space for the given instance.  <a href="buddysystem_8c.html#a4d44b9ea0141a42034fa20d1b399096b">More...</a><br /></td></tr>
<tr class="separator:a4d44b9ea0141a42034fa20d1b399096b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde9c497d23160be33b5055324155084"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#acde9c497d23160be33b5055324155084">__cache_extend</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, int count)</td></tr>
<tr class="memdesc:acde9c497d23160be33b5055324155084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extenmds the cache of the given amount.  <a href="buddysystem_8c.html#acde9c497d23160be33b5055324155084">More...</a><br /></td></tr>
<tr class="separator:acde9c497d23160be33b5055324155084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f9724a9afb96f15ea40cbaa27f4859"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#aa0f9724a9afb96f15ea40cbaa27f4859">__cache_shrink</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, int count)</td></tr>
<tr class="memdesc:aa0f9724a9afb96f15ea40cbaa27f4859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shrinks the cache.  <a href="buddysystem_8c.html#aa0f9724a9afb96f15ea40cbaa27f4859">More...</a><br /></td></tr>
<tr class="separator:aa0f9724a9afb96f15ea40cbaa27f4859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894cb12f96ea9b809c760af2ef1d162f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a894cb12f96ea9b809c760af2ef1d162f">__cached_alloc</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance)</td></tr>
<tr class="memdesc:a894cb12f96ea9b809c760af2ef1d162f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate memory using the given cache.  <a href="buddysystem_8c.html#a894cb12f96ea9b809c760af2ef1d162f">More...</a><br /></td></tr>
<tr class="separator:a894cb12f96ea9b809c760af2ef1d162f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826d68b2d1a1f66cadeed9dc121f8cd0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a826d68b2d1a1f66cadeed9dc121f8cd0">__cached_free</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, <a class="el" href="structbb__page__t.html">bb_page_t</a> *page)</td></tr>
<tr class="memdesc:a826d68b2d1a1f66cadeed9dc121f8cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory of the allocated page.  <a href="buddysystem_8c.html#a826d68b2d1a1f66cadeed9dc121f8cd0">More...</a><br /></td></tr>
<tr class="separator:a826d68b2d1a1f66cadeed9dc121f8cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640a3c271a19660f600fe32fa3516fc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a640a3c271a19660f600fe32fa3516fc6">bb_alloc_page_cached</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance)</td></tr>
<tr class="memdesc:a640a3c271a19660f600fe32fa3516fc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alloc a page using bb cache.  <a href="buddysystem_8c.html#a640a3c271a19660f600fe32fa3516fc6">More...</a><br /></td></tr>
<tr class="separator:a640a3c271a19660f600fe32fa3516fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d581e1257343cf01b0edbb662a0e1ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buddysystem_8c.html#a6d581e1257343cf01b0edbb662a0e1ce">bb_free_page_cached</a> (<a class="el" href="structbb__instance__t.html">bb_instance_t</a> *instance, <a class="el" href="structbb__page__t.html">bb_page_t</a> *page)</td></tr>
<tr class="memdesc:a6d581e1257343cf01b0edbb662a0e1ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a page allocated with bb_alloc_page_cached.  <a href="buddysystem_8c.html#a6d581e1257343cf01b0edbb662a0e1ce">More...</a><br /></td></tr>
<tr class="separator:a6d581e1257343cf01b0edbb662a0e1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Buddy System. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>(c) 2014-2024 This file is distributed under the MIT License. See LICENSE.md for details. </dd></dl>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a8d7bdea3dd034eb2d4ef41644fe7593a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7bdea3dd034eb2d4ef41644fe7593a">&#9670;&nbsp;</a></span>bb_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="buddysystem_8c.html#a8d7bdea3dd034eb2d4ef41644fe7593a">bb_flag</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bitwise flags for identifying page types and statuses. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8d7bdea3dd034eb2d4ef41644fe7593aa9ae2f42040fcb2b48d57fedc884c5785"></a>FREE_PAGE&#160;</td><td class="fielddoc"><p>Bit position that identifies when a page is free or not. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8d7bdea3dd034eb2d4ef41644fe7593aa4c2039e4d534c6b0a81236cb2e2411c6"></a>ROOT_PAGE&#160;</td><td class="fielddoc"><p>Bit position that identifies when a page is the root page. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae29281484883f3042621f8389844c10f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae29281484883f3042621f8389844c10f">&#9670;&nbsp;</a></span>__bb_clear_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __bb_clear_flag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the given flag from the page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>The page of which we want to modify the flag. </td></tr>
    <tr><td class="paramname">flag</td><td>The flag we want to clear. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afdfc7aa89085851bc1b7560db7f66964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdfc7aa89085851bc1b7560db7f66964">&#9670;&nbsp;</a></span>__bb_set_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __bb_set_flag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the given flag in the page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>The page of which we want to modify the flag. </td></tr>
    <tr><td class="paramname">flag</td><td>The flag we want to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af5836eaaa8cd448ff1bf120e19cf6012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5836eaaa8cd448ff1bf120e19cf6012">&#9670;&nbsp;</a></span>__bb_test_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __bb_test_flag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the given flag from the page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>The page of which we want to modify the flag. </td></tr>
    <tr><td class="paramname">flag</td><td>The flag we want to test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the bit is set, 0 otherwise. </dd></dl>

</div>
</div>
<a id="acde9c497d23160be33b5055324155084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde9c497d23160be33b5055324155084">&#9670;&nbsp;</a></span>__cache_extend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __cache_extend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extenmds the cache of the given amount. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>the cache instance. </td></tr>
    <tr><td class="paramname">count</td><td>the amount to extend to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa0f9724a9afb96f15ea40cbaa27f4859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f9724a9afb96f15ea40cbaa27f4859">&#9670;&nbsp;</a></span>__cache_shrink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __cache_shrink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shrinks the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>the cache instance. </td></tr>
    <tr><td class="paramname">count</td><td>the amount to shrink. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a894cb12f96ea9b809c760af2ef1d162f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a894cb12f96ea9b809c760af2ef1d162f">&#9670;&nbsp;</a></span>__cached_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structbb__page__t.html">bb_page_t</a>* __cached_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate memory using the given cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>the cache instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the allocated page. </dd></dl>

</div>
</div>
<a id="a826d68b2d1a1f66cadeed9dc121f8cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826d68b2d1a1f66cadeed9dc121f8cd0">&#9670;&nbsp;</a></span>__cached_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __cached_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees the memory of the allocated page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>the cache instance. </td></tr>
    <tr><td class="paramname">page</td><td>a pointer to the allocated page. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adfd577d09a42a6087ddcb27f6dc95639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd577d09a42a6087ddcb27f6dc95639">&#9670;&nbsp;</a></span>__get_area_of_order()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structbb__free__area__t.html">bb_free_area_t</a>* __get_area_of_order </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the pointer to the free-area manager for the given order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>the buddysystem instance. </td></tr>
    <tr><td class="paramname">order</td><td>the desired order. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the free-area manager. </dd></dl>

</div>
</div>
<a id="a35ce8f62b80af728009dd767b2976942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35ce8f62b80af728009dd767b2976942">&#9670;&nbsp;</a></span>__get_buddy_at_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long __get_buddy_at_index </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>page_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the buddy index of a page. </p>
<p>--------------------&mdash; xor --------------------&mdash; | page_idx ^ (1UL &lt;&lt; order) = buddy_idx | | 1 1 0 | </p>
<h2><a class="anchor" id="autotoc_md34"></a>
|     0                  1                    1     |</h2>
<p>If the bit of page_idx that corresponds to the block size, is 1, then we have to take the block on the left (0), otherwise we have to take the block on the right (1). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_idx</td><td>the page index. </td></tr>
    <tr><td class="paramname">order</td><td>the logarithm of the size of the block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the page index of the buddy of page. </dd></dl>

</div>
</div>
<a id="ae160d20676e44008af2256fc3ef4c9d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae160d20676e44008af2256fc3ef4c9d4">&#9670;&nbsp;</a></span>__get_page_at_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structbb__page__t.html">bb_page_t</a>* __get_page_at_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the page at the given index, starting from the first page of the BB system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The buddy system instance we are working with. </td></tr>
    <tr><td class="paramname">index</td><td>The number of pages we want to move from the first page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The page we found. </dd></dl>

</div>
</div>
<a id="afe721ebcd5e4489cf780860fc26b1118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe721ebcd5e4489cf780860fc26b1118">&#9670;&nbsp;</a></span>__get_page_from_base()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structbb__page__t.html">bb_page_t</a>* __get_page_from_base </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the page at the given index, starting from the given base. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The buddy system instance we are working with. </td></tr>
    <tr><td class="paramname">base</td><td>The base page from which we move at the given index. </td></tr>
    <tr><td class="paramname">index</td><td>The number of pages we want to move from the base. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The page we found. </dd></dl>

</div>
</div>
<a id="aa7ee891488a66f0fc8f9778a66e60356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ee891488a66f0fc8f9778a66e60356">&#9670;&nbsp;</a></span>__get_page_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int __get_page_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the number of pages separating the two pages (begin, end). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>the buddy system instance we are working with. </td></tr>
    <tr><td class="paramname">begin</td><td>the first page. </td></tr>
    <tr><td class="paramname">end</td><td>the second page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of pages between begin and end. </dd></dl>

</div>
</div>
<a id="a5aed8c4021507d758e5b5941088a3f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aed8c4021507d758e5b5941088a3f5e">&#9670;&nbsp;</a></span>__page_is_buddy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __page_is_buddy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the page is FREE and has the same order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>the page to check. </td></tr>
    <tr><td class="paramname">order</td><td>the oder to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the page is buddy, 0 otherwise. </dd></dl>

</div>
</div>
<a id="a640a3c271a19660f600fe32fa3516fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a640a3c271a19660f600fe32fa3516fc6">&#9670;&nbsp;</a></span>bb_alloc_page_cached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbb__page__t.html">bb_page_t</a>* bb_alloc_page_cached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alloc a page using bb cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>Buddy system instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An allocated page. </dd></dl>

</div>
</div>
<a id="a65785882f5d56f483770bc05543d5eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65785882f5d56f483770bc05543d5eb6">&#9670;&nbsp;</a></span>bb_alloc_pages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbb__page__t.html">bb_page_t</a>* bb_alloc_pages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a block of page frames of size 2^order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A buddy system instance. </td></tr>
    <tr><td class="paramname">order</td><td>The logarithm of the size of the block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The address of the first page descriptor of the block, or NULL. </dd></dl>

</div>
</div>
<a id="a6d581e1257343cf01b0edbb662a0e1ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d581e1257343cf01b0edbb662a0e1ce">&#9670;&nbsp;</a></span>bb_free_page_cached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bb_free_page_cached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a page allocated with bb_alloc_page_cached. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>Buddy system instance. </td></tr>
    <tr><td class="paramname">page</td><td>The address of the first page descriptor of the block. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a626195311d2297b9e81267157ff71676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626195311d2297b9e81267157ff71676">&#9670;&nbsp;</a></span>bb_free_pages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bb_free_pages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbb__page__t.html">bb_page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a block of page frames of size 2^order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A buddy system instance. </td></tr>
    <tr><td class="paramname">page</td><td>The address of the first page descriptor of the block. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5fcceb7b305c289998d4a666adadbb3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fcceb7b305c289998d4a666adadbb3a">&#9670;&nbsp;</a></span>buddy_system_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buddy_system_dump </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the size of free_list of each free_area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A buddy system instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4d44b9ea0141a42034fa20d1b399096b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d44b9ea0141a42034fa20d1b399096b">&#9670;&nbsp;</a></span>buddy_system_get_cached_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long buddy_system_get_cached_space </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the cached space for the given instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A buddy system instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The requested total sapce. </dd></dl>

</div>
</div>
<a id="a0635562150ad0b348b32c85cbb94cbd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0635562150ad0b348b32c85cbb94cbd7">&#9670;&nbsp;</a></span>buddy_system_get_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long buddy_system_get_free_space </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the free space for the given instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A buddy system instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The requested total sapce. </dd></dl>

</div>
</div>
<a id="a87ab08dd08a270a41b93d5e738a96d6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ab08dd08a270a41b93d5e738a96d6d">&#9670;&nbsp;</a></span>buddy_system_get_total_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long buddy_system_get_total_space </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total space for the given instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A buddy system instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The requested total sapce. </dd></dl>

</div>
</div>
<a id="ae602e79144bf8acd5d1352cab79710e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae602e79144bf8acd5d1352cab79710e6">&#9670;&nbsp;</a></span>buddy_system_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buddy_system_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbb__instance__t.html">bb_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pages_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>bbpage_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>pages_stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>pages_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Buddy System. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A buddysystem instance. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the current instance (for debug purposes) </td></tr>
    <tr><td class="paramname">pages_start</td><td>The start address of the page structures </td></tr>
    <tr><td class="paramname">bbpage_offset</td><td>The offset from the start of the whole page of the <a class="el" href="structbb__page__t.html" title="The base structure representing a bb page.">bb_page_t</a> struct. </td></tr>
    <tr><td class="paramname">pages_stride</td><td>The (padded) size of the whole page structure </td></tr>
    <tr><td class="paramname">pages_count</td><td>The number of pages in this region </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
