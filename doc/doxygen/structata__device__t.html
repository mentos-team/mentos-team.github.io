<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MentOS: ata_device_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MentOS
   &#160;<span id="projectnumber">0.8.0</span>
   </div>
   <div id="projectbrief">The Mentoring Operating System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structata__device__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ata_device_t Struct Reference<div class="ingroups"><a class="el" href="group__drivers.html">Device Drivers</a> &raquo; <a class="el" href="group__ata.html">Advanced Technology Attachment (ATA)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Stores information about an ATA device.  
 <a href="structata__device__t.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7d97ac6997972bf90ac3637f69bd7685"><td class="memItemLeft" align="right" valign="top"><a id="a7d97ac6997972bf90ac3637f69bd7685"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#a7d97ac6997972bf90ac3637f69bd7685">name</a> [<a class="el" href="limits_8h.html#ac64541bdd81c961304b9babef1402640">NAME_MAX</a>]</td></tr>
<tr class="memdesc:a7d97ac6997972bf90ac3637f69bd7685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the device. <br /></td></tr>
<tr class="separator:a7d97ac6997972bf90ac3637f69bd7685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c8391e3496477bc147644d3a57ac2f"><td class="memItemLeft" align="right" valign="top"><a id="a81c8391e3496477bc147644d3a57ac2f"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#a81c8391e3496477bc147644d3a57ac2f">path</a> [<a class="el" href="limits_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>]</td></tr>
<tr class="memdesc:a81c8391e3496477bc147644d3a57ac2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the device. <br /></td></tr>
<tr class="separator:a81c8391e3496477bc147644d3a57ac2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7e2173a95830ade54b2aa9015865521"><td class="memItemLeft" align="right" valign="top"><a id="ab7e2173a95830ade54b2aa9015865521"></a>
<a class="el" href="group__ata.html#ga801e3b546b4a7f9abab36f397765b787">ata_device_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#ab7e2173a95830ade54b2aa9015865521">type</a></td></tr>
<tr class="memdesc:ab7e2173a95830ade54b2aa9015865521"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the device support ATA Packet Interface (ATAPI). <br /></td></tr>
<tr class="separator:ab7e2173a95830ade54b2aa9015865521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c2e1f3a2237f0ab41174422664330a"><td class="memItemLeft" align="right" valign="top"><a id="ae8c2e1f3a2237f0ab41174422664330a"></a>
<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#ae8c2e1f3a2237f0ab41174422664330a">io_base</a></td></tr>
<tr class="memdesc:ae8c2e1f3a2237f0ab41174422664330a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The "I/O" port base. <br /></td></tr>
<tr class="separator:ae8c2e1f3a2237f0ab41174422664330a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66733bf8df903493c93d4cf1f729417"><td class="memItemLeft" ><a id="ab66733bf8df903493c93d4cf1f729417"></a>
struct {</td></tr>
<tr class="memitem:a6b46e3db111be063d152be67cee8deca"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#aef4fe95ae766d470e7956ba75825ecff">data</a></td></tr>
<tr class="memdesc:a6b46e3db111be063d152be67cee8deca"><td class="mdescLeft">&#160;</td><td class="mdescRight">[R/W] Data Register. Read/Write PIO data bytes (16-bit). <br /></td></tr>
<tr class="separator:a6b46e3db111be063d152be67cee8deca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7355ff0a42908b65b29b2f6149bd050f"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a356b9c4ad8f1a9071f33f9de1408bd8d">error</a></td></tr>
<tr class="memdesc:a7355ff0a42908b65b29b2f6149bd050f"><td class="mdescLeft">&#160;</td><td class="mdescRight">[R ] Error Register. Read error generated by the last ATA command executed (8-bit). <br /></td></tr>
<tr class="separator:a7355ff0a42908b65b29b2f6149bd050f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45051ce2c852fbe4672c9b3332e24458"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#ab24a661103711df35c4e940363a8aedd">feature</a></td></tr>
<tr class="memdesc:a45051ce2c852fbe4672c9b3332e24458"><td class="mdescLeft">&#160;</td><td class="mdescRight">[ W] Features Register. Used to control command specific interface features (8-bit). <br /></td></tr>
<tr class="separator:a45051ce2c852fbe4672c9b3332e24458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5185b25406d1d44f3d392a0f1b389f42"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a0cc0c92b31f10b0630480b61ca7b95ad">sector_count</a></td></tr>
<tr class="memdesc:a5185b25406d1d44f3d392a0f1b389f42"><td class="mdescLeft">&#160;</td><td class="mdescRight">[R/W] Sector Count Register. Number of sectors to read/write (0 is a special value) (8-bit). <br /></td></tr>
<tr class="separator:a5185b25406d1d44f3d392a0f1b389f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26811e199900c2d5b1ad8541c09dc6f9"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#aae81ef8eea9f87cd459d446b8142ad17">lba_lo</a></td></tr>
<tr class="memdesc:a26811e199900c2d5b1ad8541c09dc6f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">[R/W] Sector Number Register. This is CHS/LBA28/LBA48 specific (8-bit). <br /></td></tr>
<tr class="separator:a26811e199900c2d5b1ad8541c09dc6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e2bb576de07538fe53f32830b973ec"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a5458e0243548d27459c4273d418fb3db">lba_mid</a></td></tr>
<tr class="memdesc:a43e2bb576de07538fe53f32830b973ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">[R/W] Cylinder Low Register. Partial Disk Sector address (8-bit). <br /></td></tr>
<tr class="separator:a43e2bb576de07538fe53f32830b973ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2225788bcb3e2ea686df025e21073d2d"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a69432ce23a53fa145fa1444b2c1add93">lba_hi</a></td></tr>
<tr class="memdesc:a2225788bcb3e2ea686df025e21073d2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">[R/W] Cylinder High Register. Partial Disk Sector address (8-bit). <br /></td></tr>
<tr class="separator:a2225788bcb3e2ea686df025e21073d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41bc1c3455b1369af1423cf5cb1854b6"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#aaf2e5105e909b4861b028c7160592810">hddevsel</a></td></tr>
<tr class="memdesc:a41bc1c3455b1369af1423cf5cb1854b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">[R/W] Drive / Head Register. Used to select a drive and/or head. Supports extra address/flag bits (8-bit). <br /></td></tr>
<tr class="separator:a41bc1c3455b1369af1423cf5cb1854b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7a3714fadf03c545f988c317fee63a"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a4bcc503cfe0104c894c8fa7b98fdb43c">status</a></td></tr>
<tr class="memdesc:abb7a3714fadf03c545f988c317fee63a"><td class="mdescLeft">&#160;</td><td class="mdescRight">[R ] Status Register. Used to read the current status (8-bit). <br /></td></tr>
<tr class="separator:abb7a3714fadf03c545f988c317fee63a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce4e19b1a75ccd2bff6e7a7ab483414"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#ac22ad1645496684012d8b1d5995574cd">command</a></td></tr>
<tr class="memdesc:a0ce4e19b1a75ccd2bff6e7a7ab483414"><td class="mdescLeft">&#160;</td><td class="mdescRight">[ W] Command Register. Used to send ATA commands to the device (8-bit). <br /></td></tr>
<tr class="separator:a0ce4e19b1a75ccd2bff6e7a7ab483414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66733bf8df903493c93d4cf1f729417"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#ab66733bf8df903493c93d4cf1f729417">io_reg</a></td></tr>
<tr class="memdesc:ab66733bf8df903493c93d4cf1f729417"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O registers. <br /></td></tr>
<tr class="separator:ab66733bf8df903493c93d4cf1f729417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3745c8a9c999475e5cda4197467f2888"><td class="memItemLeft" align="right" valign="top"><a id="a3745c8a9c999475e5cda4197467f2888"></a>
<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#a3745c8a9c999475e5cda4197467f2888">io_control</a></td></tr>
<tr class="memdesc:a3745c8a9c999475e5cda4197467f2888"><td class="mdescLeft">&#160;</td><td class="mdescRight">The "Control" port base. <br /></td></tr>
<tr class="separator:a3745c8a9c999475e5cda4197467f2888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a9119e2743a914dd240bca79e9b1b12"><td class="memItemLeft" align="right" valign="top"><a id="a3a9119e2743a914dd240bca79e9b1b12"></a>
<a class="el" href="stdbool_8h.html#a04dd5074964518403bf944f2b240a5f8">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#a3a9119e2743a914dd240bca79e9b1b12">primary</a>: 8</td></tr>
<tr class="memdesc:a3a9119e2743a914dd240bca79e9b1b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the device is connected to the primary bus. <br /></td></tr>
<tr class="separator:a3a9119e2743a914dd240bca79e9b1b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5059dee5df7a620d74da3a092c79a34"><td class="memItemLeft" align="right" valign="top"><a id="aa5059dee5df7a620d74da3a092c79a34"></a>
<a class="el" href="stdbool_8h.html#a04dd5074964518403bf944f2b240a5f8">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#aa5059dee5df7a620d74da3a092c79a34">secondary</a>: 8</td></tr>
<tr class="memdesc:aa5059dee5df7a620d74da3a092c79a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the device is connected to the secondary bus. <br /></td></tr>
<tr class="separator:aa5059dee5df7a620d74da3a092c79a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f36ef4ffb524a48f8c9bcb040071192"><td class="memItemLeft" align="right" valign="top"><a id="a5f36ef4ffb524a48f8c9bcb040071192"></a>
<a class="el" href="stdbool_8h.html#a04dd5074964518403bf944f2b240a5f8">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#a5f36ef4ffb524a48f8c9bcb040071192">master</a>: 8</td></tr>
<tr class="memdesc:a5f36ef4ffb524a48f8c9bcb040071192"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the device is master. <br /></td></tr>
<tr class="separator:a5f36ef4ffb524a48f8c9bcb040071192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a99d2d7f8b98e8d01c342b6eeb415f"><td class="memItemLeft" align="right" valign="top"><a id="a41a99d2d7f8b98e8d01c342b6eeb415f"></a>
<a class="el" href="stdbool_8h.html#a04dd5074964518403bf944f2b240a5f8">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#a41a99d2d7f8b98e8d01c342b6eeb415f">slave</a>: 8</td></tr>
<tr class="memdesc:a41a99d2d7f8b98e8d01c342b6eeb415f"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the device is slave. <br /></td></tr>
<tr class="separator:a41a99d2d7f8b98e8d01c342b6eeb415f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8272145c77015a3c9cde82b837c1782"><td class="memItemLeft" align="right" valign="top"><a id="aa8272145c77015a3c9cde82b837c1782"></a>
<a class="el" href="structata__identity__t.html">ata_identity_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#aa8272145c77015a3c9cde82b837c1782">identity</a></td></tr>
<tr class="memdesc:aa8272145c77015a3c9cde82b837c1782"><td class="mdescLeft">&#160;</td><td class="mdescRight">The device identity data. <br /></td></tr>
<tr class="separator:aa8272145c77015a3c9cde82b837c1782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1337573d03c318622bf26c2465528e88"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:aaa9cd94629fe490c4aab79616c57f001"><td class="memItemLeft" >&#160;&#160;&#160;unsigned&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a1dfa6c71c07a2f0b3537b79baff7b48a">command</a></td></tr>
<tr class="separator:aaa9cd94629fe490c4aab79616c57f001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01324ed6fb2b8229565a2327c46c13f0"><td class="memItemLeft" >&#160;&#160;&#160;unsigned&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a4e45891daa2b7b6f3dbc1aac2dd9ae99">status</a></td></tr>
<tr class="separator:a01324ed6fb2b8229565a2327c46c13f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1526d671dfd29dfd64d95187646c0ab"><td class="memItemLeft" >&#160;&#160;&#160;unsigned&#160;&#160;&#160;<a class="el" href="structata__device__t.html#ab907386f8f3c5d5261ee871311e0fe2c">prdt</a></td></tr>
<tr class="separator:ab1526d671dfd29dfd64d95187646c0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1337573d03c318622bf26c2465528e88"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#a1337573d03c318622bf26c2465528e88">bmr</a></td></tr>
<tr class="separator:a1337573d03c318622bf26c2465528e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4825ba12f59ed639427292719143007"><td class="memItemLeft" ><a id="ae4825ba12f59ed639427292719143007"></a>
struct {</td></tr>
<tr class="memitem:ac927b3132dccb3a29329688ce1bea08d"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="structprdt__t.html">prdt_t</a> *&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a14ac45da44f47448b1bdcd9211d10bf8">prdt</a></td></tr>
<tr class="memdesc:ac927b3132dccb3a29329688ce1bea08d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the first entry of the PRDT. <br /></td></tr>
<tr class="separator:ac927b3132dccb3a29329688ce1bea08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ff4cc726bd723fe09cb03bf3c9091f"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a19e3e47d795881e91fde03c3f592bef4">uintptr_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a85f7a2fe792b710e14e021cf3520dec7">prdt_phys</a></td></tr>
<tr class="memdesc:a78ff4cc726bd723fe09cb03bf3c9091f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Physical address of the first entry of the PRDT. <br /></td></tr>
<tr class="separator:a78ff4cc726bd723fe09cb03bf3c9091f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c28ae24548bef9d7c015437d95be46"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a04c44400f200d4b2c610b2a5ec0d9327">start</a></td></tr>
<tr class="memdesc:a91c28ae24548bef9d7c015437d95be46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the DMA memory area. <br /></td></tr>
<tr class="separator:a91c28ae24548bef9d7c015437d95be46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1ce28136c50bb154b827060025c521"><td class="memItemLeft" >
&#160;&#160;&#160;<a class="el" href="stdint_8h.html#a19e3e47d795881e91fde03c3f592bef4">uintptr_t</a>&#160;&#160;&#160;<a class="el" href="structata__device__t.html#a31b661850a52cd0d4d816e5e7e323e87">start_phys</a></td></tr>
<tr class="memdesc:afa1ce28136c50bb154b827060025c521"><td class="mdescLeft">&#160;</td><td class="mdescRight">Physical address of the DMA memory area. <br /></td></tr>
<tr class="separator:afa1ce28136c50bb154b827060025c521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4825ba12f59ed639427292719143007"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#ae4825ba12f59ed639427292719143007">dma</a></td></tr>
<tr class="memdesc:ae4825ba12f59ed639427292719143007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direct Memroy Access (DMA) variables. <br /></td></tr>
<tr class="separator:ae4825ba12f59ed639427292719143007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab24d2363bc2f54292b57913681aaaec8"><td class="memItemLeft" align="right" valign="top"><a id="ab24d2363bc2f54292b57913681aaaec8"></a>
<a class="el" href="structvfs__file__t.html">vfs_file_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#ab24d2363bc2f54292b57913681aaaec8">fs_root</a></td></tr>
<tr class="memdesc:ab24d2363bc2f54292b57913681aaaec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device root file. <br /></td></tr>
<tr class="separator:ab24d2363bc2f54292b57913681aaaec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a83357a5a22462490040e0e7d4edfd"><td class="memItemLeft" align="right" valign="top"><a id="a64a83357a5a22462490040e0e7d4edfd"></a>
<a class="el" href="spinlock_8h.html#a1a7da4ce80f3ccdd08051012ff5580ff">spinlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structata__device__t.html#a64a83357a5a22462490040e0e7d4edfd">lock</a></td></tr>
<tr class="memdesc:a64a83357a5a22462490040e0e7d4edfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">For device lock. <br /></td></tr>
<tr class="separator:a64a83357a5a22462490040e0e7d4edfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stores information about an ATA device. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a1337573d03c318622bf26c2465528e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1337573d03c318622bf26c2465528e88">&#9670;&nbsp;</a></span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }  ata_device_t::bmr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bus Master Register. The "address" of the Bus Master Register is stored in BAR4, in the PCI Configuration Space of the disk controller. The Bus Master Register is generally a set of 16 sequential IO ports. It can also be a 16 byte memory mapped space. </p>

</div>
</div>
<a id="a1dfa6c71c07a2f0b3537b79baff7b48a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dfa6c71c07a2f0b3537b79baff7b48a">&#9670;&nbsp;</a></span>command</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned ata_device_t::command</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The command byte has only 2 operational bits. All the rest should be 0. Bit 0 (value = 1) is the Start/Stop bit. Setting the bit puts the controller in DMA mode for that ATA channel, and it starts at the beginning of the respective PRDT. Clearing the bit terminates DMA mode for that ATA channel. If the controller was in the middle of a transfer, the remaining data is thrown away. Also, the controller does not remember how far it got in the PRDT. That information is lost, if the OS does not save it. The bit must be cleared when a transfer completes. Bit 3 (value = 8) is the Read/Write bit. This bit is a huge problem. The disk controller does not automatically detect whether the next disk operation is a read or write. You have to tell it, in advance, by setting this bit. Note that when reading from the disk, you must set this bit to 1, and clear it when writing to the disk. You must first stop DMA transfers (by clearing bit 0) before you can change the Read/Write bit! Please note all the bad consequences of clearing bit 0, above! The controller loses its place in the PRDT. In essence, this means that each PRDT must consist exclusively of either read or write entries. You set the Read/Write bit in advance, then "use up" the entire PRDT &ndash; before you can do the opposite operation. </p>

</div>
</div>
<a id="ab907386f8f3c5d5261ee871311e0fe2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab907386f8f3c5d5261ee871311e0fe2c">&#9670;&nbsp;</a></span>prdt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned ata_device_t::prdt</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Physical Region Descriptor Table (PRDT). The PRDT must be uint32_t aligned, contiguous in physical memory, and cannot cross a 64K boundary. </p>

</div>
</div>
<a id="a4e45891daa2b7b6f3dbc1aac2dd9ae99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e45891daa2b7b6f3dbc1aac2dd9ae99">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned ata_device_t::status</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The bits in the status byte are not usually useful. However, you are required to read it after every IRQ on disk reads anyway. Reading this byte may perform a necessary final cache flush of the DMA data to memory. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/enrico/repository/personal/mentos/mentos/src/drivers/<a class="el" href="ata_8c.html">ata.c</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
